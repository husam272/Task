{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\OneDrive\\\\Desktop\\\\HUSAM RK\\\\New task\\\\task\\\\src\\\\components\\\\Segmentpage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport SegmentModalVisible from \"./\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialSchemaOptions = [{\n  label: \"First Name\",\n  value: \"first_name\"\n}, {\n  label: \"Last Name\",\n  value: \"last_name\"\n}, {\n  label: \"Gender\",\n  value: \"gender\"\n}, {\n  label: \"Age\",\n  value: \"age\"\n}, {\n  label: \"Account Name\",\n  value: \"account_name\"\n}, {\n  label: \"City\",\n  value: \"city\"\n}, {\n  label: \"State\",\n  value: \"state\"\n}];\nconst Segmentpage = () => {\n  _s();\n  const [segmentName, setSegmentName] = useState(\"\");\n  const [schema, setSchema] = useState([]);\n  const [schemaOptions, setSchemaOptions] = useState(initialSchemaOptions);\n  const [newSchemaOption, setNewSchemaOption] = useState(\"\");\n  const handleSaveSegment = () => {\n    // Send data to server\n    fetch(\"https://webhook.site/21ea7e89-3370-472f-95d3-95c1d7bf915d\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        segment_name: segmentName,\n        schema\n      })\n    }).then(response => console.log(response));\n  };\n  const handleAddNewSchema = () => {\n    if (newSchemaOption !== \"\") {\n      setSchema([...schema, {\n        [newSchemaOption]: newSchemaOption\n      }]);\n      setNewSchemaOption(\"\");\n      setSchemaOptions(schemaOptions.filter(option => option.value !== newSchemaOption));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => SetSegmentModalVisible(true),\n      children: \"Save Segment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), SegmentModalVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: segmentName,\n        onChange: e => setSegmentName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: newSchemaOption,\n        onChange: e => setNewSchemaOption(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Add schema to segment --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), schemaOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option.value,\n          children: option.label\n        }, option.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddNewSchema,\n        children: \"+Add new schema\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: schema.map((field, index) => /*#__PURE__*/_jsxDEV(\"select\", {\n          value: Object.keys(field)[0],\n          onChange: e => {\n            const newSchema = [...schema];\n            newSchema[index] = {\n              [e.target.value]: e.target.value\n            };\n            setSchema(newSchema);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Select a field --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), schemaOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: option.value,\n            disabled: schema.some(field => Object.keys(field)[0] === option.value),\n            children: option.label\n          }, option.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this))]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSaveSegment,\n        children: \"Save the segment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(Segmentpage, \"0KinmTz7/SfWdOJu1dKmLnjdNww=\");\n_c = Segmentpage;\nexport default Segmentpage;\nvar _c;\n$RefreshReg$(_c, \"Segmentpage\");","map":{"version":3,"names":["React","useState","SegmentModalVisible","jsxDEV","_jsxDEV","initialSchemaOptions","label","value","Segmentpage","_s","segmentName","setSegmentName","schema","setSchema","schemaOptions","setSchemaOptions","newSchemaOption","setNewSchemaOption","handleSaveSegment","fetch","method","body","JSON","stringify","segment_name","then","response","console","log","handleAddNewSchema","filter","option","children","onClick","SetSegmentModalVisible","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","map","field","index","Object","keys","newSchema","disabled","some","_c","$RefreshReg$"],"sources":["C:/Users/moham/OneDrive/Desktop/HUSAM RK/New task/task/src/components/Segmentpage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport SegmentModalVisible from \"./\"\r\n\r\nconst initialSchemaOptions = [\r\n  { label: \"First Name\", value: \"first_name\" },\r\n  { label: \"Last Name\", value: \"last_name\" },\r\n  { label: \"Gender\", value: \"gender\" },\r\n  { label: \"Age\", value: \"age\" },\r\n  { label: \"Account Name\", value: \"account_name\" },\r\n  { label: \"City\", value: \"city\" },\r\n  { label: \"State\", value: \"state\" },\r\n];\r\n\r\nconst Segmentpage = () => {\r\n  const [segmentName, setSegmentName] = useState(\"\");\r\n  const [schema, setSchema] = useState([]);\r\n  const [schemaOptions, setSchemaOptions] = useState(initialSchemaOptions);\r\n  const [newSchemaOption, setNewSchemaOption] = useState(\"\");\r\n\r\n  const handleSaveSegment = () => {\r\n    // Send data to server\r\n    fetch(\"https://webhook.site/21ea7e89-3370-472f-95d3-95c1d7bf915d\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ segment_name: segmentName, schema }),\r\n    }).then((response) => console.log(response));\r\n  };\r\n\r\n  const handleAddNewSchema = () => {\r\n    if (newSchemaOption !== \"\") {\r\n      setSchema([...schema, { [newSchemaOption]: newSchemaOption }]);\r\n      setNewSchemaOption(\"\");\r\n      setSchemaOptions(schemaOptions.filter((option) => option.value !== newSchemaOption));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => SetSegmentModalVisible(true)}>Save Segment</button>\r\n      {SegmentModalVisible && (\r\n        <div>\r\n          <input type=\"text\" value={segmentName} onChange={(e) => setSegmentName(e.target.value)} />\r\n          <select\r\n            value={newSchemaOption}\r\n            onChange={(e) => setNewSchemaOption(e.target.value)}\r\n          >\r\n            <option value=\"\">-- Add schema to segment --</option>\r\n            {schemaOptions.map((option) => (\r\n              <option key={option.value} value={option.value}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <button onClick={handleAddNewSchema}>+Add new schema</button>\r\n          <div>\r\n            {schema.map((field, index) => (\r\n              <select\r\n                key={index}\r\n                value={Object.keys(field)[0]}\r\n                onChange={(e) => {\r\n                  const newSchema = [...schema];\r\n                  newSchema[index] = { [e.target.value]: e.target.value };\r\n                  setSchema(newSchema);\r\n                }}\r\n              >\r\n                <option value=\"\">-- Select a field --</option>\r\n                {schemaOptions.map((option) => (\r\n                  <option\r\n                    key={option.value}\r\n                    value={option.value}\r\n                    disabled={schema.some((field) => Object.keys(field)[0] === option.value)}\r\n                  >\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            ))}\r\n          </div>\r\n          <button onClick={handleSaveSegment}>Save the segment</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Segmentpage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}