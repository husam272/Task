{"ast":null,"code":"import _defineProperty from\"C:/Users/moham/OneDrive/Desktop/HUSAM RK/New task/task/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"C:/Users/moham/OneDrive/Desktop/HUSAM RK/New task/task/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/moham/OneDrive/Desktop/HUSAM RK/New task/task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import ArrowBackIosIcon from'@mui/icons-material/ArrowBackIos';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialSchemaOptions=[{label:\"First Name\",value:\"first_name\"},{label:\"Last Name\",value:\"last_name\"},{label:\"Gender\",value:\"gender\"},{label:\"Age\",value:\"age\"},{label:\"Account Name\",value:\"account_name\"},{label:\"City\",value:\"city\"},{label:\"State\",value:\"state\"}];var Segmentpage=function Segmentpage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),segmentName=_useState2[0],setSegmentName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),schema=_useState4[0],setSchema=_useState4[1];var _useState5=useState(initialSchemaOptions),_useState6=_slicedToArray(_useState5,2),schemaOptions=_useState6[0],setSchemaOptions=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),newSchemaOption=_useState8[0],setNewSchemaOption=_useState8[1];var handleSaveSegment=function handleSaveSegment(){// Send data to server\nfetch(\"https://webhook.site/21ea7e89-3370-472f-95d3-95c1d7bf915d\",{method:\"POST\",body:JSON.stringify({segment_name:segmentName,schema:schema})}).then(function(response){return console.log(response);});};var handleAddNewSchema=function handleAddNewSchema(){if(newSchemaOption!==\"\"){setSchema([].concat(_toConsumableArray(schema),[_defineProperty({},newSchemaOption,newSchemaOption)]));setNewSchemaOption(\"\");setSchemaOptions(schemaOptions.filter(function(option){return option.value!==newSchemaOption;}));}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(ArrowBackIosIcon,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"title1\",children:\"View Audience\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title1\",children:\"Enter the Name of the Segment \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:segmentName,onChange:function onChange(e){return setSegmentName(e.target.value);},placeholder:\"Name of the Segment\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"title2\",children:\"To save your segment you need to add the schemas to build the query\"}),/*#__PURE__*/_jsxs(\"select\",{value:newSchemaOption,onChange:function onChange(e){return setNewSchemaOption(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Add schema to segment --\"}),schemaOptions.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value);})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddNewSchema,className:\"btn1\",children:\"+Add new schema\"}),/*#__PURE__*/_jsx(\"div\",{children:schema.map(function(field,index){return/*#__PURE__*/_jsxs(\"select\",{value:Object.keys(field)[0],onChange:function onChange(e){var newSchema=_toConsumableArray(schema);newSchema[index]=_defineProperty({},e.target.value,e.target.value);setSchema(newSchema);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a field --\"}),schemaOptions.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,disabled:schema.some(function(field){return Object.keys(field)[0]===option.value;}),children:option.label},option.value);})]},index);})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveSegment,className:\"btn2\",children:\"Save the segment\"})]})]})});};export default Segmentpage;","map":{"version":3,"names":["React","useState","ArrowBackIosIcon","jsx","_jsx","jsxs","_jsxs","initialSchemaOptions","label","value","Segmentpage","_useState","_useState2","_slicedToArray","segmentName","setSegmentName","_useState3","_useState4","schema","setSchema","_useState5","_useState6","schemaOptions","setSchemaOptions","_useState7","_useState8","newSchemaOption","setNewSchemaOption","handleSaveSegment","fetch","method","body","JSON","stringify","segment_name","then","response","console","log","handleAddNewSchema","concat","_toConsumableArray","_defineProperty","filter","option","children","className","href","type","onChange","e","target","placeholder","map","onClick","field","index","Object","keys","newSchema","disabled","some"],"sources":["C:/Users/moham/OneDrive/Desktop/HUSAM RK/New task/task/src/components/Segmentpage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\r\n\r\n\r\nconst initialSchemaOptions = [\r\n    { label: \"First Name\", value: \"first_name\" },\r\n    { label: \"Last Name\", value: \"last_name\" },\r\n    { label: \"Gender\", value: \"gender\" },\r\n    { label: \"Age\", value: \"age\" },\r\n    { label: \"Account Name\", value: \"account_name\" },\r\n    { label: \"City\", value: \"city\" },\r\n    { label: \"State\", value: \"state\" },\r\n];\r\n\r\nconst Segmentpage = () => {\r\n    const [segmentName, setSegmentName] = useState(\"\");\r\n    const [schema, setSchema] = useState([]);\r\n    const [schemaOptions, setSchemaOptions] = useState(initialSchemaOptions);\r\n    const [newSchemaOption, setNewSchemaOption] = useState(\"\");\r\n\r\n    const handleSaveSegment = () => {\r\n        // Send data to server\r\n        fetch(\"https://webhook.site/21ea7e89-3370-472f-95d3-95c1d7bf915d\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ segment_name: segmentName, schema }),\r\n        }).then((response) => console.log(response));\r\n\r\n    };\r\n\r\n    const handleAddNewSchema = () => {\r\n        if (newSchemaOption !== \"\") {\r\n            setSchema([...schema, { [newSchemaOption]: newSchemaOption }]);\r\n            setNewSchemaOption(\"\");\r\n            setSchemaOptions(schemaOptions.filter((option) => option.value !== newSchemaOption));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n\r\n            {\r\n                <div>\r\n                    <div className='header'>\r\n                        <div className='icon'><a href=\"/\"><ArrowBackIosIcon /></a></div>\r\n                        <div className='title1'>View Audience</div>\r\n                    </div>\r\n                    <div className=\"section1\">\r\n                        <div className=\"input1\">\r\n                            <div className=\"title1\">Enter the Name of the Segment </div>\r\n                            <input type=\"text\" value={segmentName} onChange={(e) => setSegmentName(e.target.value)} placeholder=\"Name of the Segment\" />\r\n                        </div>\r\n                        <div className=\"title2\">To save your segment you need to add the schemas to build the query</div>\r\n                        <select\r\n                            value={newSchemaOption}\r\n                            onChange={(e) => setNewSchemaOption(e.target.value)}\r\n                        >\r\n                            <option value=\"\">-- Add schema to segment --</option>\r\n                            {schemaOptions.map((option) => (\r\n                                <option key={option.value} value={option.value}>\r\n                                    {option.label}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                        <button onClick={handleAddNewSchema} className=\"btn1\">+Add new schema</button>\r\n                        <div>\r\n                            {schema.map((field, index) => (\r\n                                <select\r\n                                    key={index}\r\n                                    value={Object.keys(field)[0]}\r\n                                    onChange={(e) => {\r\n                                        const newSchema = [...schema];\r\n                                        newSchema[index] = { [e.target.value]: e.target.value };\r\n                                        setSchema(newSchema);\r\n                                    }}\r\n                                >\r\n                                    <option value=\"\">-- Select a field --</option>\r\n                                    {schemaOptions.map((option) => (\r\n                                        <option\r\n                                            key={option.value}\r\n                                            value={option.value}\r\n                                            disabled={schema.some((field) => Object.keys(field)[0] === option.value)}\r\n                                        >\r\n                                            {option.label}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            ))}\r\n                        </div>\r\n                        <button onClick={handleSaveSegment} className=\"btn2\">Save the segment</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Segmentpage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}